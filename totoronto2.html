<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Poster Viewer</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
    </style>
    <script>
        // Function to restart the page
        function restartPage() {
            location.reload();
        }

        // Function to open Kvebek3.html
        function openKvebek3() {
            window.location.href = 'Kvebek3.html';
        }

        // Add event listeners after the scene is loaded
        window.addEventListener('DOMContentLoaded', function() {
            AFRAME.registerComponent('button-handler', {
                init: function() {
                    var el = this.el;
                    el.addEventListener('click', function() {
                        console.log('Button clicked:', this.id);
                        // Get the button's ID to determine its action
                        switch(this.id) {
                            case 'restart-button-1':
                            case 'restart-button-2':
                                restartPage();
                                break;
                            case 'no-result-button':
                                alert('No action assigned to this button.');
                                break;
                            case 'kvebek-button':
                                openKvebek3();
                                break;
                        }
                    });
                }
            });
        });
    </script>
</head>
<body>
    <a-scene embedded arjs>
        <a-assets>
            <img id="rev" src="image/22_1.jpg">
            <img id="ww2" src="image/29_1.jpg">
            <img id="krch" src="image/30_1.jpg">
        </a-assets>

        <a-marker preset="hiro">
            <!-- Title Plane -->
            <a-text 
                value="Choose a Poster of the «Thaw»" 
                align="center" 
                position="0 0.8 -0.6" 
                rotation="0 0 0" 
                color="black"
                scale="0.5 0.5 0.5">
            </a-text>

            <!-- First Image Plane (KRCH) - Right -->
            <a-plane 
                id="krch-image"
                position="0.6 0 0" 
                rotation="0 90 0" 
                width="1.5" 
                height="2" 
                scale="0.5 0.5 0.5"
                color="white" 
                src="#krch">
            </a-plane>

            <!-- Kvebek Button (Green) - Above KRCH -->
            <a-entity 
                id="kvebek-button" 
                position="0.6 0.6 0" 
                rotation="90 0 0" 
                button-handler>
                <a-box 
                    color="#00FF00" 
                    depth="0.2" 
                    height="0.4" 
                    width="0.4">
                </a-box>
            </a-entity>

            <!-- Second Image Plane (WW2) - Left -->
            <a-plane 
                id="ww2-image"
                position="-0.6 0 0" 
                rotation="0 -90 0" 
                width="1.5" 
                height="2" 
                color="white" 
                scale="0.5 0.5 0.5"
                src="#ww2">
            </a-plane>

            <!-- First Restart Button (Blue) - Above WW2 -->
            <a-entity 
                id="restart-button-1" 
                position="-0.6 0.6 0" 
                rotation="90 0 0" 
                button-handler>
                <a-box 
                    color="#4CC3D9" 
                    depth="0.2" 
                    height="0.4" 
                    width="0.4">
                </a-box>
            </a-entity>

            <!-- Third Image Plane (Revolution) - Front -->
            <a-plane 
                id="rev-image"
                position="0 0 0.6"
                rotation="0 0 0" 
                width="1.5" 
                height="2" 
                scale="0.5 0.5 0.5"
                color="white" 
                src="#rev"
                data-image="true">
            </a-plane>

            <!-- No Result Button (Red) - Above Revolution -->
            <a-entity 
                id="no-result-button" 
                position="0 0.6 0.6" 
                rotation="90 0 0" 
                button-handler>
                <a-box 
                    color="#FF0000" 
                    depth="0.2" 
                    height="0.4" 
                    width="0.4">
                </a-box>
            </a-entity>

            <!-- Second Restart Button (Purple) - Back -->
            <a-entity 
                id="restart-button-2" 
                position="0 0.6 -0.6" 
                rotation="90 0 0" 
                button-handler>
                <a-box 
                    color="#800080" 
                    depth="0.2" 
                    height="0.4" 
                    width="0.4">
                </a-box>
            </a-entity>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>
</body>
</html>
